<!DOCTYPE html>
<html lang="cs">
	<head>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<base href="/HTML-a-CSS_jaro-2024/">
		<title>
			Data v Eleventy 2 | HTML a CSS
		</title>
		<meta name="description" content="Podklady pro online kurz HTML a CSS 2 od Czechitas.">
		<link rel="stylesheet" href="static/main.css">
		<link rel="icon" type="image/png" href="static/favicon.png" sizes="64x64">
		<link href="https://unpkg.com/prismjs@1.20.0/themes/prism-okaidia.css" rel="stylesheet">
		<meta property="og:image" content="https://czechitas-podklady-web.github.io/HTML-a-CSS-2/static/og-image.jpg"/>
		<meta property="og:image:width" content="1200"/>
		<meta property="og:image:height" content="630"/>
	</head>
	<body>
		<div class="layout">
			<header class="header">
				<h1>
					<a href="" class="header__link">
						<img src="static/logo.png" width="206" height="60" alt="logo Czechitas">
						<span>HTML a CSS</span>
					</a>
				</h1>
			</header>
			<main>
				
					<h1>Data v Eleventy 2</h1>
				
				<h2>Filtry</h2>
<p>Pomáhají transformovat proměnné. Zapisují se pomocí symbolu svislé čáry (<code>{{ promenna | filtr }}</code>).</p>
<p>Pokud bychom chtěli například vypsat počet položek v kolekci, uděláme to v šabloně takto:</p>
<pre class="language-liquid"><code class="language-liquid"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">></span></span>Počet filmů v kolekci: <span class="token liquid language-liquid"><span class="token delimiter punctuation">{{</span> filmy <span class="token operator">|</span> <span class="token function filter">length</span> <span class="token delimiter punctuation">}}</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span></code></pre>
<p>Výsledek v HTML bude vypadat takto:</p>
<pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">></span></span>Počet filmů v kolekci: 5<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span></code></pre>
<h2>Slug</h2>
<p>Pro převod textu na znaky vhodné pro URL adresu používáme filtr <code>slug</code>.</p>
<pre class="language-liquid"><code class="language-liquid"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">></span></span>Název: <span class="token liquid language-liquid"><span class="token delimiter punctuation">{{</span> filmy<span class="token punctuation">.</span>nazev <span class="token delimiter punctuation">}}</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><br><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">></span></span>URL: /film/<span class="token liquid language-liquid"><span class="token delimiter punctuation">{{</span> filmy<span class="token punctuation">.</span>nazev <span class="token operator">|</span> <span class="token function filter">slug</span> <span class="token delimiter punctuation">}}</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span></code></pre>
<p>Výsledek v HTML bude vypadat takto:</p>
<pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">></span></span>Název: Pán prstenů<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><br><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">></span></span>URL: /film/pan-prstenu<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span></code></pre>
<h2>Spojení kolekce</h2>
<p>Pokud máme v kolekci samé řetězce, můžeme je spojit dohromady pomocí filtru <code>join</code>.</p>
<h3><code>zanry.json</code></h3>
<pre class="language-json"><code class="language-json"><span class="token punctuation">[</span><span class="token string">"Sci-Fi"</span><span class="token punctuation">,</span> <span class="token string">"Komedie"</span><span class="token punctuation">,</span> <span class="token string">"Romantický"</span><span class="token punctuation">]</span></code></pre>
<h3><code>sablona.njk</code></h3>
<pre class="language-liquid"><code class="language-liquid"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">></span></span><span class="token liquid language-liquid"><span class="token delimiter punctuation">{{</span> zanry <span class="token operator">|</span> <span class="token function filter">join</span> <span class="token delimiter punctuation">}}</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span></code></pre>
<h3>Výsledek:</h3>
<pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">></span></span>Sci-FiKomedieRomantický<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span></code></pre>
<p>Pokud chceme použít vlastní oddělovač, například čárku navíc s mezerou, přidáme za <code>join</code> parametr do kulatých závorek v uvozovkách.</p>
<h3><code>sablona.njk</code></h3>
<pre class="language-liquid"><code class="language-liquid"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">></span></span><span class="token liquid language-liquid"><span class="token delimiter punctuation">{{</span> zanry <span class="token operator">|</span> <span class="token function filter">join</span><span class="token punctuation">(</span><span class="token string">', '</span><span class="token punctuation">)</span> <span class="token delimiter punctuation">}}</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><br><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">></span></span><span class="token liquid language-liquid"><span class="token delimiter punctuation">{{</span> zanry <span class="token operator">|</span> <span class="token function filter">join</span><span class="token punctuation">(</span><span class="token string">' / '</span><span class="token punctuation">)</span> <span class="token delimiter punctuation">}}</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span></code></pre>
<h3>Výsledek:</h3>
<pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">></span></span>Sci-Fi, Komedie, Romantický<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><br><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">></span></span>Sci-Fi / Komedie / Romantický<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span></code></pre>
<h2>Další filtry</h2>
<p>Všechny zabudované filtry do nunjucks jsou popsané v dokumentaci <a href="https://mozilla.github.io/nunjucks/templating.html#builtin-filters">zde</a>.</p>
<h2>Přejmenování proměnné</h2>
<p>Pomocí <code>{% set %}</code> můžeme vytvářet nové proměnné, které dokonce můžou vycházet z již existujících.</p>
<pre class="language-liquid"><code class="language-liquid"><span class="token liquid language-liquid"><span class="token delimiter punctuation">{%</span> set nejoblibenejsiCislo <span class="token operator">=</span> <span class="token number">12</span> <span class="token delimiter punctuation">%}</span></span><br><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">></span></span>Nejoblíbenější číslo je: <span class="token liquid language-liquid"><span class="token delimiter punctuation">{{</span> nejoblibenejsiCislo <span class="token delimiter punctuation">}}</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><br><br><span class="token liquid language-liquid"><span class="token delimiter punctuation">{%</span> set filmy <span class="token operator">=</span> noveFilmy <span class="token delimiter punctuation">%}</span></span><br><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">></span></span>Nové filmy<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">></span></span><br><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span><span class="token punctuation">></span></span><br>	<span class="token liquid language-liquid"><span class="token delimiter punctuation">{%</span> <span class="token keyword">for</span> film <span class="token keyword">in</span> filmy <span class="token delimiter punctuation">%}</span></span><br>		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">></span></span><br>			<span class="token liquid language-liquid"><span class="token delimiter punctuation">{{</span> film <span class="token delimiter punctuation">}}</span></span><br>		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span><br>	<span class="token liquid language-liquid"><span class="token delimiter punctuation">{%</span> <span class="token keyword">endfor</span> <span class="token delimiter punctuation">%}</span></span><br><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">></span></span></code></pre>
<p>Může se hodit například v případě, že máme šablonu, která očekává určitý název proměnné, ale z dat ji máme pojmenovanou jinak.</p>
<pre class="language-liquid"><code class="language-liquid"><span class="token liquid language-liquid"><span class="token delimiter punctuation">{%</span> set filmy <span class="token operator">=</span> mojeFilmy<span class="token punctuation">.</span>oblibene <span class="token delimiter punctuation">%}</span></span><br><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">></span></span>Oblíbené filmy<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">></span></span><br><span class="token liquid language-liquid"><span class="token delimiter punctuation">{%</span> <span class="token keyword">include</span> <span class="token string">"seznamFilmu.njk"</span> <span class="token delimiter punctuation">%}</span></span><br><br><span class="token liquid language-liquid"><span class="token delimiter punctuation">{%</span> set filmy <span class="token operator">=</span> mojeFilmy<span class="token punctuation">.</span>chciVidet <span class="token delimiter punctuation">%}</span></span><br><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">></span></span>Chci vidět<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">></span></span><br><span class="token liquid language-liquid"><span class="token delimiter punctuation">{%</span> <span class="token keyword">include</span> <span class="token string">"seznamFilmu.njk"</span> <span class="token delimiter punctuation">%}</span></span></code></pre>
<h2>Úkol na teď</h2>
<p>Postupuj podle zadání na <a href="https://github.com/Czechitas-podklady-WEB/Cviceni-Eleventy-filmy">github.com/…/Cviceni-Eleventy-filmy</a>.</p>

			</main>
			<footer class="layout__footer">
				© 2024 <a href="https://www.czechitas.cz/">Czechitas z.ú.</a>
			</footer>
		</div>
	</body>
</html>
